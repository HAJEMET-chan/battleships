Морской бой (Battleship)

Этот проект представляет собой консольную реализацию классической игры "Морской бой" на Python. Игра поддерживает двух игроков, каждый из которых расставляет свои корабли на поле, а затем по очереди пытается потопить корабли противника.
Особенности

    Игра для двух игроков: Позволяет двум игрокам по очереди расставлять корабли и делать ходы.

    Валидация расстановки кораблей: Строгие правила валидации гарантируют, что корабли размещаются в соответствии с классическими правилами "Морского боя" (прямые, не касаются друг друга, правильное количество и размеры).

    Очистка консоли: Терминал очищается между ходами и этапами расстановки для улучшения игрового опыта.

    Модульная архитектура: Код разделен на несколько файлов (main.py, validating.py, config.py, api.py) для лучшей организации и читаемости.

Правила игры "Морской бой"

    Игра ведется на поле 10times10 клеток.

    У каждого игрока есть 10 кораблей:

        1 четырехпалубный (длиной 4 клетки)

        2 трехпалубных (длиной 3 клетки)

        3 двухпалубных (длиной 2 клетки)

        4 однопалубных (длиной 1 клетка)

    Корабли могут быть расположены только по горизонтали или по вертикали.

    Корабли не могут касаться друг друга ни одной из сторон, даже по диагонали. Между кораблями всегда должна быть хотя бы одна пустая клетка.

    Игроки по очереди называют координаты клетки, по которой делают выстрел.

    Если выстрел попадает в корабль, игрок объявляет "Попал!" и делает следующий ход.

    Если выстрел попадает в пустую клетку, игрок объявляет "Мимо!" и ход переходит к другому игроку.

    Когда все клетки корабля поражены, корабль считается потопленным.

    Цель игры — потопить все корабли противника.

Структура проекта

your_project/
├── src/
│   ├── __init__.py      # Пустой файл, делающий 'src' пакетом Python
│   ├── main.py          # Основная логика игры: классы BattleField, Ship, Cell
│   ├── validating.py    # Функции для валидации правил расстановки кораблей
│   ├── config.py        # Конфигурационные данные: ключи координат, начальное поле
│   └── api.py           # API-интерфейс для взаимодействия с ядром игры
└── run_game.py          # Точка входа в игру, CLI для двух игроков

src/config.py

Содержит основные конфигурационные данные, такие как словари для горизонтальных и вертикальных ключей поля (например, 'А', 'Б' и '1', '2') и начальное пустое игровое поле.
src/main.py

Ядро игровой логики. Определяет классы:

    Cell: Представляет одну клетку на игровом поле, хранит ее состояние (часть ли корабля, попадание, промах, убит ли корабль, возможность размещения).

    Ship: Представляет один корабль, хранит список своих клеток и отслеживает, потоплен ли он.

    BattleField: Управляет всем игровым полем, включая размещение кораблей, обработку выстрелов и проверку условий завершения игры.

src/validating.py

Содержит функцию validate_battlefield, которая использует библиотеку numpy и scipy.ndimage.label для проверки всего игрового поля на соответствие правилам "Морского боя". Она проверяет количество и размеры кораблей, а также отсутствие их касаний.
src/api.py

Предоставляет высокоуровневый программный интерфейс для взаимодействия с ядром игры. Функции в этом файле позволяют:

    create_new_game(): Создать новую игру.

    place_ship(): Попытаться разместить корабль на поле.

    make_shot(): Сделать выстрел по координатам.

    get_board_state(): Получить текущее состояние поля для отображения.

    is_game_finished(): Проверить, завершена ли игра.

    validate_full_battlefield(): Проверить полностью расставленное поле.

run_game.py

Точка входа в консольную игру. Этот скрипт:

    Инициализирует два игровых поля.

    Позволяет каждому игроку вручную расставить свои корабли.

    Осуществляет основной игровой цикл, переключая ходы между игроками.

    Отображает состояние полей (своё поле с кораблями, поле противника без кораблей).

    Обрабатывает ввод пользователя для выстрелов.

    Использует функцию clear_console() для очистки терминала между важными этапами.

Установка и запуск

    Клонируйте репозиторий (если это репозиторий) или создайте следующую структуру файлов:

    your_project/
    ├── src/
    │   ├── __init__.py
    │   ├── main.py
    │   ├── validating.py
    │   ├── config.py
    │   └── api.py
    └── run_game.py

    Установите необходимые библиотеки Python:

    pip install numpy scipy

    Запустите игру из корневой директории проекта:

    python run_game.py

Как играть

    При запуске игры вам будет предложено расставить корабли для "Player 1", а затем для "Player 2".

    Для размещения корабля введите его координаты через пробел. Например:

        Для 4-палубного корабля: А1 А2 А3 А4 (горизонтально) или А1 Б1 В1 Г1 (вертикально)

        Для 3-палубного корабля: Д5 Д6 Д7

        Для 2-палубного корабля: И9 И10

        Для 1-палубного корабля: К1

    После расстановки всех кораблей начнется игра.

    Во время хода введите координаты, по которым вы хотите выстрелить (например, Б3).

    Игра будет сообщать о попаданиях, промахах и потопленных кораблях.

    Игра завершится, когда один из игроков потопит все корабли противника.

Будущие улучшения

    Графический интерфейс пользователя (GUI): Реализация игры с использованием графической библиотеки (например, Pygame, Tkinter, или веб-интерфейс с HTML/CSS/JS).

    ИИ противник: Добавление компьютерного противника для одиночной игры.

    Сохранение/загрузка игры: Возможность сохранять и загружать прогресс игры.

    Сетевая игра: Реализация многопользовательской игры по сети.

    Улучшенная обработка ошибок ввода: Более дружелюбные сообщения об ошибках для пользователя.